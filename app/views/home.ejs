<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CrystosJewel - Bijoux PrÃ©cieux</title>

  <!-- FontAwesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
  
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Playfair+Display:wght@400;500;600;700;800&display=swap" rel="stylesheet" />
  
<style>
    :root {
        --rose-gold: #b76e79;
        --rose-gold-light: #e8c2c8;
        --rose-gold-dark: #7d4b53;
        --cream: #fff8f0;
        --dark-text: #3a3a3a;
        --light-gray: #f5f5f5;
        --box-shadow: 0 8px 20px rgba(183, 110, 121, 0.15);
        
        /* Couleurs modernes dÃ©rivÃ©es */
        --rose-gold-bright: #d4849a;
        --cream-soft: #fefbf7;
        --white-pure: #ffffff;
        --gradient-main: linear-gradient(135deg, var(--rose-gold-light) 0%, var(--rose-gold) 50%, var(--rose-gold-dark) 100%);
        --gradient-soft: linear-gradient(135deg, var(--cream) 0%, var(--rose-gold-light) 100%);
        --shadow-soft: 0 4px 20px rgba(183, 110, 121, 0.08);
        --shadow-medium: 0 8px 30px rgba(183, 110, 121, 0.12);
        --shadow-strong: 0 15px 40px rgba(183, 110, 121, 0.2);
    }

    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        font-family: 'Inter', sans-serif;
        background: var(--cream);
        color: var(--dark-text);
        overflow-x: hidden;
        line-height: 1.6;
        position: relative;
    }

    /* ===== ARRIÃˆRE-PLAN MODERNE ===== */
    body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: 
            radial-gradient(circle at 15% 20%, rgba(183, 110, 121, 0.03) 0%, transparent 50%),
            radial-gradient(circle at 85% 80%, rgba(232, 194, 200, 0.04) 0%, transparent 50%),
            linear-gradient(135deg, var(--cream) 0%, var(--cream-soft) 50%, var(--light-gray) 100%);
        z-index: -1;
        animation: backgroundFloat 30s ease-in-out infinite;
    }

    @keyframes backgroundFloat {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.8; }
    }

    /* ===== HEADER CLEAN ===== */
    header {
        position: fixed;
        top: 0;
        width: 100%;
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(20px);
        border-bottom: 1px solid rgba(183, 110, 121, 0.08);
        z-index: 1000;
        transition: all 0.3s ease;
    }

    header .container {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px;
        max-width: 1400px;
        margin: 0 auto;
    }

    .logo {
        font-family: 'Playfair Display', serif;
    }

    .logo h1 {
        font-size: 1.8rem;
        font-weight: 700;
        background: var(--gradient-main);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin: 0;
    }

    .logo span {
        font-size: 0.65rem;
        color: var(--rose-gold-dark);
        font-weight: 400;
        letter-spacing: 2px;
        opacity: 0.8;
    }

    /* ===== HERO SECTION Ã‰PURÃ‰ ===== */
    .hero {
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        position: relative;
        background: linear-gradient(135deg, var(--cream-soft) 0%, var(--cream) 30%, var(--light-gray) 100%);
    }

    .hero::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: 
            radial-gradient(circle at 30% 70%, rgba(183, 110, 121, 0.05) 0%, transparent 60%),
            radial-gradient(circle at 70% 30%, rgba(232, 194, 200, 0.06) 0%, transparent 60%);
        z-index: 1;
    }

    .hero-content {
        max-width: 800px;
        z-index: 10;
        position: relative;
        animation: heroFadeIn 2s ease-out;
    }

    .hero-content h2 {
        font-family: 'Playfair Display', serif;
        font-size: clamp(3.5rem, 10vw, 7rem);
        font-weight: 350;
        margin-bottom: 30px;
        background: var(--gradient-main);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        line-height: 1.1;
        letter-spacing: -1px;
    }

    .hero-content p {
        font-size: 1.2rem;
        margin-bottom: 50px;
        color: var(--dark-text);
        opacity: 0.7;
        font-weight: 400;
        max-width: 550px;
        margin-left: auto;
        margin-right: auto;
        line-height: 1.7;
    }

    .hero .btn {
        position: relative;
        background: var(--gradient-main);
        color: white;
        padding: 20px 45px;
        border-radius: 60px;
        text-decoration: none;
        font-weight: 600;
        font-size: 1rem;
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        box-shadow: var(--shadow-medium);
        overflow: hidden;
        text-transform: uppercase;
        letter-spacing: 1.5px;
        border: none;
        cursor: pointer;
    }

    .hero .btn::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 50%;
        transform: translate(-50%, -50%);
        transition: all 0.6s ease;
    }

    .hero .btn:hover::before {
        width: 300px;
        height: 300px;
    }

    .hero .btn:hover {
        transform: translateY(-8px) scale(1.05);
        box-shadow: var(--shadow-strong);
    }

    @keyframes heroFadeIn {
        from {
            opacity: 0;
            transform: translateY(40px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* ===== SECTIONS GÃ‰NÃ‰RALES ===== */
    .section {
        padding: 80px 0;
        position: relative;
    }

    .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 25px;
    }

    /* ===== TITRES SOPHISTIQUÃ‰S ===== */
    .section-title {
        text-align: center;
        margin-bottom: 60px;
        position: relative;
    }

    .section-title h3 {
        font-family: 'Playfair Display', serif;
        font-size: clamp(2.2rem, 5vw, 3.2rem);
        font-weight: 700;
        background: var(--gradient-main);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin: 0;
        position: relative;
        display: inline-block;
        letter-spacing: -0.5px;
    }

    .section-title h3::after {
        content: '';
        position: absolute;
        bottom: -15px;
        left: 50%;
        transform: translateX(-50%);
        width: 50px;
        height: 2px;
        background: var(--gradient-main);
        border-radius: 1px;
    }

    /* ===== CATÃ‰GORIES MINIMALISTES ===== */
    .categories {
        background: var(--white-pure);
        position: relative;
    }

    .categories::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, var(--cream-soft) 0%, var(--white-pure) 50%, var(--light-gray) 100%);
        opacity: 0.3;
        z-index: 0;
    }

    .categories .container {
        position: relative;
        z-index: 1;
    }

    .categories-carousel {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 50px;
        flex-wrap: wrap;
        margin-top: 40px;
    }

    .category-circle {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-decoration: none;
        transition: all 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        cursor: pointer;
        position: relative;
    }

    .category-circle:hover {
        transform: translateY(-15px);
    }

    .circle-image {
        width: 160px;
        height: 160px;
        border-radius: 50%;
        background: var(--white-pure);
        border: 2px solid var(--cream);
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        overflow: hidden;
        box-shadow: var(--shadow-soft);
        transition: all 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }

    .category-circle:hover .circle-image {
        box-shadow: var(--shadow-strong);
        border-color: var(--rose-gold-light);
        transform: scale(1.08);
    }

    .circle-image::before {
        content: '';
        position: absolute;
        top: -100%;
        left: -100%;
        width: 300%;
        height: 300%;
        background: conic-gradient(from 0deg, transparent, rgba(183, 110, 121, 0.05), transparent);
        animation: rotate 8s linear infinite;
        opacity: 0;
        transition: opacity 0.5s ease;
    }

    .category-circle:hover .circle-image::before {
        opacity: 1;
    }

    @keyframes rotate {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }

    .circle-image[style*="background-image"] {
        background-size: cover !important;
        background-position: center !important;
        background-repeat: no-repeat !important;
    }

    .circle-image .diamond-icon {
        font-size: 3rem;
        background: var(--gradient-main);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        animation: sparkle 4s ease-in-out infinite;
        z-index: 2;
    }

    .category-name {
        margin-top: 20px;
        font-size: 1rem;
        font-weight: 600;
        color: var(--dark-text);
        text-align: center;
        transition: all 0.4s ease;
        text-transform: uppercase;
        letter-spacing: 1.5px;
        position: relative;
    }

    .category-circle:hover .category-name {
        background: var(--gradient-main);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        transform: translateY(-8px);
    }

    @keyframes sparkle {
        0%, 100% { 
            transform: scale(1) rotate(0deg); 
            filter: brightness(1);
        }
        50% { 
            transform: scale(1.05) rotate(2deg); 
            filter: brightness(1.2);
        }
    }

    /* ===== COUPS DE CÅ’UR AVEC CARROUSEL ===== */
    .featured {
        background: var(--light-gray);
        position: relative;
    }

    .featured::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, var(--light-gray) 0%, var(--cream) 50%, var(--white-pure) 100%);
        opacity: 0.7;
        z-index: 0;
    }

    .featured .container {
        position: relative;
        z-index: 1;
    }

    /* Grid pour grands Ã©crans */
    .featured-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 30px;
        max-width: 800px;
        margin: 0 auto;
    }

    /* Carrousel pour petits et moyens Ã©crans */
    .featured-carousel {
        display: none;
        position: relative;
        max-width: 400px;
        margin: 0 auto;
        overflow: hidden;
    }

    .carousel-container {
        display: flex;
        transition: transform 0.5s ease;
    }

    .carousel-slide {
        min-width: 100%;
        flex-shrink: 0;
    }

    .carousel-navigation {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 20px;
        margin-top: 30px;
    }

    .carousel-btn {
        background: var(--white-pure);
        border: 1px solid var(--rose-gold-light);
        color: var(--dark-text);
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 1rem;
    }

    .carousel-btn:hover {
        background: var(--gradient-main);
        color: white;
        border-color: var(--rose-gold);
        transform: scale(1.1);
    }

    .carousel-btn:disabled {
        opacity: 0.3;
        cursor: not-allowed;
        transform: none;
    }

    .carousel-dots {
        display: flex;
        gap: 8px;
    }

    .carousel-dot {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: rgba(183, 110, 121, 0.3);
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .carousel-dot.active {
        background: var(--rose-gold);
        transform: scale(1.3);
    }

    .product-card {
        background: var(--white-pure);
        border-radius: 15px;
        overflow: hidden;
        box-shadow: var(--shadow-soft);
        transition: all 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        position: relative;
        border: 1px solid rgba(183, 110, 121, 0.05);
    }

    .product-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: var(--gradient-main);
        transform: scaleX(0);
        transition: transform 0.6s ease;
        z-index: 2;
    }

    .product-card:hover::before {
        transform: scaleX(1);
    }

    .product-card:hover {
        transform: translateY(-20px) scale(1.02);
        box-shadow: var(--shadow-strong);
        border-color: rgba(183, 110, 121, 0.15);
    }

    .product-img {
        width: 100%;
        height: 220px;
        background: linear-gradient(135deg, var(--cream) 0%, var(--rose-gold-light) 100%);
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
    }

    .product-img::before {
        content: 'ðŸ’Ž';
        font-size: 2.5rem;
        opacity: 0.3;
        background: var(--gradient-main);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        animation: sparkle 3s ease-in-out infinite;
    }

    .product-img[style*="background-image"]::before {
        display: none;
    }

    .product-img::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
        transform: translateX(-100%) rotate(45deg);
        transition: transform 0.8s ease;
    }

    .product-card:hover .product-img::after {
        transform: translateX(100%) rotate(45deg);
    }

    .product-info {
        padding: 25px;
        text-align: center;
        position: relative;
    }

    .product-name {
        font-size: 1.1rem;
        font-weight: 600;
        color: var(--dark-text);
        margin: 0 0 12px 0;
        transition: all 0.3s ease;
        font-family: 'Playfair Display', serif;
    }

    .product-card:hover .product-name {
        background: var(--gradient-main);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        transform: translateY(-3px);
    }

    .product-price {
        font-size: 1.2rem;
        font-weight: 700;
        background: var(--gradient-main);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin: 0 0 20px 0;
    }

    .product-btn {
        position: relative;
        background: transparent;
        border: 2px solid var(--rose-gold-light);
        color: var(--dark-text);
        text-decoration: none;
        padding: 12px 25px;
        border-radius: 30px;
        font-weight: 600;
        font-size: 0.85rem;
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        overflow: hidden;
        text-transform: uppercase;
        letter-spacing: 1px;
        display: inline-block;
    }

    .product-btn::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: var(--gradient-main);
        transition: left 0.5s ease;
        z-index: -1;
    }

    .product-btn:hover::before {
        left: 0;
    }

    .product-btn:hover {
        transform: translateY(-3px);
        box-shadow: var(--shadow-medium);
        border-color: var(--rose-gold);
        color: white;
    }

    /* Message sans coups de cÅ“ur */
    .no-featured {
        grid-column: 1 / -1;
        text-align: center;
        padding: 100px 30px;
        color: var(--dark-text);
        opacity: 0.5;
        background: var(--white-pure);
        border: 2px dashed rgba(183, 110, 121, 0.2);
        border-radius: 20px;
        box-shadow: var(--shadow-soft);
    }

    .no-featured i {
        font-size: 4rem;
        background: var(--gradient-main);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 25px;
        animation: pulse 3s ease-in-out infinite;
    }

    @keyframes pulse {
        0%, 100% { opacity: 0.5; transform: scale(1); }
        50% { opacity: 0.8; transform: scale(1.05); }
    }

    /* ===== BOUTONS ADMIN DISCRETS ===== */
    .admin-section {
        text-align: center;
        margin-top: 80px;
        padding-top: 50px;
        border-top: 1px solid rgba(183, 110, 121, 0.1);
    }

    .admin-btn {
        position: relative;
        background: var(--white-pure);
        border: 1px solid rgba(183, 110, 121, 0.2);
        color: var(--dark-text);
        text-decoration: none;
        padding: 15px 30px;
        border-radius: 30px;
        font-size: 0.9rem;
        font-weight: 500;
        margin: 0 15px 10px 15px;
        transition: all 0.4s ease;
        display: inline-flex;
        align-items: center;
        gap: 10px;
        cursor: pointer;
        overflow: hidden;
        text-transform: uppercase;
        letter-spacing: 1px;
        box-shadow: var(--shadow-soft);
    }

    .admin-btn::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: var(--gradient-main);
        transition: left 0.4s ease;
        z-index: -1;
    }

    .admin-btn:hover::before {
        left: 0;
    }

    .admin-btn:hover {
        transform: translateY(-3px);
        box-shadow: var(--shadow-medium);
        border-color: var(--rose-gold);
        color: white;
    }

    .admin-btn.featured-btn::before {
        background: linear-gradient(135deg, var(--rose-gold-dark), var(--rose-gold));
    }

    /* ===== NOTICE ADMIN ===== */
    .admin-notice {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border-bottom: 1px solid rgba(183, 110, 121, 0.1);
        color: var(--dark-text);
        padding: 12px 20px;
        text-align: center;
        font-size: 13px;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 1001;
        box-shadow: var(--shadow-soft);
    }

    .admin-notice + header {
        top: 40px;
    }

    /* ===== FOOTER SIMPLE ===== */
    footer {
        background: var(--dark-text);
        color: white;
        padding: 60px 0;
        text-align: center;
    }

    footer p {
        opacity: 0.8;
        margin: 5px 0;
    }

    .back-to-top {
        position: fixed;
        bottom: 40px;
        right: 40px;
        background: var(--gradient-main);
        color: white;
        width: 55px;
        height: 55px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        text-decoration: none;
        font-size: 1.2rem;
        box-shadow: var(--shadow-medium);
        transition: all 0.4s ease;
        z-index: 1000;
        opacity: 0;
        transform: translateY(20px);
    }

    .back-to-top.visible {
        opacity: 1;
        transform: translateY(0);
    }

    .back-to-top:hover {
        transform: translateY(-5px) scale(1.1);
        box-shadow: var(--shadow-strong);
    }

    /* ===== ANIMATIONS D'ENTRÃ‰E ===== */
    .animate-in {
        animation: slideInUp 0.8s ease-out forwards;
        opacity: 0;
        transform: translateY(30px);
    }

    .animate-in:nth-child(1) { animation-delay: 0.1s; }
    .animate-in:nth-child(2) { animation-delay: 0.2s; }
    .animate-in:nth-child(3) { animation-delay: 0.3s; }
    .animate-in:nth-child(4) { animation-delay: 0.4s; }
    .animate-in:nth-child(5) { animation-delay: 0.5s; }

    @keyframes slideInUp {
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* ===== RESPONSIVE MODERNE ===== */
    @media (max-width: 1024px) {
        /* Carrousel sur tablettes */
        .featured-grid {
            display: none;
        }

        .featured-carousel {
            display: block;
        }
    }

    @media (max-width: 768px) {
        .section {
            padding: 60px 0;
        }

        .container {
            padding: 0 20px;
        }

        .section-title {
            margin-bottom: 40px;
        }

        .section-title h3 {
            font-size: 2rem;
        }

        .categories-carousel {
            gap: 35px;
            flex-direction: column;
        }

        .circle-image {
            width: 140px;
            height: 140px;
        }

        .circle-image .diamond-icon {
            font-size: 2.5rem;
        }

        .category-name {
            font-size: 0.9rem;
            letter-spacing: 1px;
        }

        /* Carrousel sur mobile */
        .featured-grid {
            display: none;
        }

        .featured-carousel {
            display: block;
        }

        .product-img {
            height: 200px;
        }

        .admin-btn {
            display: block;
            margin: 10px auto;
            width: fit-content;
        }

        .hero-content h2 {
            font-size: 2.5rem;
        }

        .hero-content p {
            font-size: 1rem;
        }

        .hero .btn {
            padding: 16px 30px;
            font-size: 0.9rem;
        }
    }

    @media (max-width: 480px) {
        .container {
            padding: 0 15px;
        }

        .section {
            padding: 50px 0;
        }

        .circle-image {
            width: 120px;
            height: 120px;
        }

        .circle-image .diamond-icon {
            font-size: 2rem;
        }

        .category-name {
            font-size: 0.8rem;
            letter-spacing: 0.5px;
        }

        .product-img {
            height: 180px;
        }

        .product-info {
            padding: 20px;
        }

        .hero-content h2 {
            font-size: 2.2rem;
        }

        .categories-carousel {
            gap: 30px;
        }

        .featured-carousel {
            max-width: 320px;
        }
    }
</style>
</head>
<body>

     <%- include('partials/navbarre.ejs') %>

    <!-- Notice admin -->
    <% if (user && user.role && user.role.name === 'administrateur') { %>
    <div class="admin-notice" id="adminNotice">
      <i class="fas fa-user-shield"></i>
      Mode administrateur actif
    </div>
    <% } %>

    <header>
        <div class="container">
            <div class="logo">
                <h1>CrystosJewel</h1>
                <span>BIJOUX PRÃ‰CIEUX</span>
            </div>
        </div>
    </header>

    <section id="accueil" class="hero">
        <div class="hero-content">
            <h2>Brillez de mille feux</h2>
            <p>DÃ©couvrez notre collection de bijoux Ã©lÃ©gants en rose gold, conÃ§us pour sublimer votre beautÃ© naturelle et exprimer votre style unique.</p>
            <a href="#categories" class="btn">DÃ©couvrir la collection</a>
        </div>
    </section>

    <!-- ===== SECTION CATÃ‰GORIES ===== -->
    <section id="categories" class="categories section">
        <div class="container">
            <!-- TITRE SEUL -->
            <div class="section-title">
                <h3>Nos CatÃ©gories</h3>
            </div>
            
            <!-- CARROUSEL DE CERCLES EN DESSOUS -->
            <div class="categories-carousel">
                <% if (categories && categories.length > 0) { %>
                    <% categories.forEach(function(category, index) { %>
                        <a href="/bijoux/<%= category.name.toLowerCase().replace(/\s+/g, '').replace(/[^a-z]/g, '') %>" class="category-circle animate-in">
                            <div class="circle-image" <% if (category.image) { %>style="background-image: url('/images/categories/<%= category.image %>');"<% } %>>
                                <% if (!category.image) { %>
                                    <div class="diamond-icon">ðŸ’Ž</div>
                                <% } %>
                            </div>
                            <div class="category-name"><%= category.name %></div>
                        </a>
                    <% }); %>
                <% } else { %>
                    <!-- CatÃ©gories par dÃ©faut si aucune en base -->
                    <a href="/bagues" class="category-circle animate-in">
                        <div class="circle-image">
                            <div class="diamond-icon">ðŸ’Ž</div>
                        </div>
                        <div class="category-name">Bagues</div>
                    </a>
                    <a href="/bijoux/colliers" class="category-circle animate-in">
                        <div class="circle-image">
                            <div class="diamond-icon">ðŸ’Ž</div>
                        </div>
                        <div class="category-name">Colliers</div>
                    </a>
                    <a href="/bracelets" class="category-circle animate-in">
                        <div class="circle-image">
                            <div class="diamond-icon">ðŸ’Ž</div>
                        </div>
                        <div class="category-name">Bracelets</div>
                    </a>
                    <a href="/boucles-doreilles" class="category-circle animate-in">
                        <div class="circle-image">
                            <div class="diamond-icon">ðŸ’Ž</div>
                        </div>
                        <div class="category-name">Boucles d'oreilles</div>
                    </a>
                <% } %>
            </div>

            <!-- BOUTONS ADMIN EN BAS -->
            <% if (user && user.role && user.role.name === 'administrateur') { %>
            <div class="admin-section">
                <a href="/admin/category-images" class="admin-btn">
                    <i class="fas fa-images"></i> GÃ©rer les images de catÃ©gories
                </a>
            </div>
            <% } %>
        </div>
    </section>

    <!-- ===== SECTION COUPS DE CÅ’UR ===== -->
    <section class="featured section">
        <div class="container">
            <!-- TITRE SEUL -->
            <div class="section-title">
                <h3>Nos Coups de CÅ“ur</h3>
            </div>
            
            <!-- GRID 2x2 POUR GRANDS Ã‰CRANS -->
            <div class="featured-grid">
                <% if (featuredJewels && featuredJewels.length > 0) { %>
                    <% featuredJewels.slice(0, 4).forEach(function(jewel, index) { %>
                        <div class="product-card animate-in">
                            <div class="product-img" <% if (jewel.image) { %>style="background-image: url('/uploads/jewels/<%= jewel.image %>');"<% } %>></div>
                            <div class="product-info">
                                <h4 class="product-name"><%= jewel.name %></h4>
                                <p class="product-price"><%= Number(jewel.price_ttc || jewel.price).toFixed(2) %> â‚¬</p>
                                <a href="/bijoux/<%= jewel.slug || jewel.id %>" class="product-btn">Voir le bijou</a>
                            </div>
                        </div>
                    <% }); %>
                <% } else { %>
                    <div class="no-featured">
                        <i class="fas fa-heart"></i>
                        <p>Aucun coup de cÅ“ur dÃ©fini pour le moment</p>
                        <% if (user && user.role && user.role.name === 'administrateur') { %>
                        <small>Utilisez le bouton de gestion ci-dessous pour en ajouter</small>
                        <% } %>
                    </div>
                <% } %>
            </div>

            <!-- CARROUSEL POUR PETITS ET MOYENS Ã‰CRANS -->
            <div class="featured-carousel">
                <div class="carousel-container" id="carouselContainer">
                    <% if (featuredJewels && featuredJewels.length > 0) { %>
                        <% featuredJewels.forEach(function(jewel, index) { %>
                            <div class="carousel-slide">
                                <div class="product-card">
                                    <div class="product-img" <% if (jewel.image) { %>style="background-image: url('/uploads/jewels/<%= jewel.image %>');"<% } %>></div>
                                    <div class="product-info">
                                        <h4 class="product-name"><%= jewel.name %></h4>
                                        <p class="product-price"><%= Number(jewel.price_ttc || jewel.price).toFixed(2) %> â‚¬</p>
                                        <a href="/bijoux/<%= jewel.slug || jewel.id %>" class="product-btn">Voir le bijou</a>
                                    </div>
                                </div>
                            </div>
                        <% }); %>
                    <% } else { %>
                        <div class="carousel-slide">
                            <div class="no-featured">
                                <i class="fas fa-heart"></i>
                                <p>Aucun coup de cÅ“ur dÃ©fini</p>
                            </div>
                        </div>
                    <% } %>
                </div>
                
                <% if (featuredJewels && featuredJewels.length > 1) { %>
                <div class="carousel-navigation">
                    <button class="carousel-btn" id="prevBtn">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <div class="carousel-dots" id="carouselDots">
                        <% featuredJewels.forEach(function(jewel, index) { %>
                            <div class="carousel-dot <% if (index === 0) { %>active<% } %>" data-slide="<%= index %>"></div>
                        <% }); %>
                    </div>
                    <button class="carousel-btn" id="nextBtn">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
                <% } %>
            </div>

            <!-- BOUTONS ADMIN EN BAS -->
            <% if (user && user.role && user.role.name === 'administrateur') { %>
            <div class="admin-section">
                <a href="/admin/coups-de-coeur" class="admin-btn featured-btn">
                    <i class="fas fa-heart"></i> GÃ©rer les coups de cÅ“ur
                </a>
            </div>
            <% } %>
        </div>
    </section>

    <footer>
       <%- include('partials/footer.ejs') %>
    </footer>

    <a href="#accueil" class="back-to-top" id="backToTop">
        <i class="fas fa-chevron-up"></i>
    </a>

    <script>
        // Animation au scroll
        function handleScrollAnimations() {
            const elements = document.querySelectorAll('.animate-in');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.animationPlayState = 'running';
                    }
                });
            }, {
                threshold: 0.1
            });

            elements.forEach(element => {
                observer.observe(element);
                element.style.animationPlayState = 'paused';
            });
        }

        // Bouton retour en haut
        function handleBackToTop() {
            const backToTopBtn = document.getElementById('backToTop');
            
            window.addEventListener('scroll', () => {
                if (window.pageYOffset > 500) {
                    backToTopBtn.classList.add('visible');
                } else {
                    backToTopBtn.classList.remove('visible');
                }
            });

            backToTopBtn.addEventListener('click', (e) => {
                e.preventDefault();
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
        }

        // Header au scroll
        function handleHeaderScroll() {
            const header = document.querySelector('header');
            
            window.addEventListener('scroll', () => {
                if (window.pageYOffset > 100) {
                    header.style.background = 'rgba(255, 255, 255, 0.98)';
                    header.style.backdropFilter = 'blur(25px)';
                    header.style.boxShadow = '0 4px 25px rgba(183, 110, 121, 0.1)';
                } else {
                    header.style.background = 'rgba(255, 255, 255, 0.95)';
                    header.style.backdropFilter = 'blur(20px)';
                    header.style.boxShadow = 'none';
                }
            });
        }

        // Smooth scroll pour les liens
        function handleSmoothScroll() {
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        const headerHeight = document.querySelector('header').offsetHeight;
                        const targetPosition = target.offsetTop - headerHeight - 20;
                        
                        window.scrollTo({
                            top: targetPosition,
                            behavior: 'smooth'
                        });
                    }
                });
            });
        }

        // Effet parallax subtil sur le hero
        function handleParallax() {
            window.addEventListener('scroll', () => {
                const scrolled = window.pageYOffset;
                const hero = document.querySelector('.hero');
                if (hero && scrolled < window.innerHeight) {
                    hero.style.transform = `translateY(${scrolled * 0.3}px)`;
                }
            });
        }

        // Effet de survol sur les cartes
        function handleCardHoverEffects() {
            const cards = document.querySelectorAll('.product-card, .category-circle');
            
            cards.forEach(card => {
                card.addEventListener('mouseenter', () => {
                    card.style.zIndex = '10';
                });
                
                card.addEventListener('mouseleave', () => {
                    card.style.zIndex = '1';
                });
            });
        }

        // Animation de loading pour les images
        function handleImageLoading() {
            const images = document.querySelectorAll('[style*="background-image"]');
            
            images.forEach(img => {
                const imageUrl = img.style.backgroundImage.match(/url\(["']?([^"']*)["']?\)/);
                if (imageUrl) {
                    const testImg = new Image();
                    testImg.onload = function() {
                        img.style.opacity = '0';
                        setTimeout(() => {
                            img.style.transition = 'opacity 0.5s ease';
                            img.style.opacity = '1';
                        }, 100);
                    };
                    testImg.src = imageUrl[1];
                }
            });
        }

        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            handleScrollAnimations();
            handleBackToTop();
            handleHeaderScroll();
            handleSmoothScroll();
            handleParallax();
            handleCardHoverEffects();
            handleImageLoading();
            initCarousel(); // Initialiser le carrousel
            
            // Animation d'entrÃ©e pour le hero
            setTimeout(() => {
                document.querySelector('.hero-content').style.opacity = '1';
                document.querySelector('.hero-content').style.transform = 'translateY(0)';
            }, 200);
            
            console.log('âœ¨ CrystosJewel - Interface moderne avec carrousel chargÃ©e !');
        });

        // Animation de hover sur les boutons
        document.addEventListener('mouseover', function(e) {
            if (e.target.classList.contains('btn') || e.target.classList.contains('product-btn') || e.target.classList.contains('admin-btn')) {
                e.target.style.transform = e.target.style.transform.includes('scale') ? 
                    e.target.style.transform : 
                    e.target.style.transform + ' scale(1.02)';
            }
        });

        document.addEventListener('mouseout', function(e) {
            if (e.target.classList.contains('btn') || e.target.classList.contains('product-btn') || e.target.classList.contains('admin-btn')) {
                e.target.style.transform = e.target.style.transform.replace(' scale(1.02)', '');
            }
        });

        // Effet de typing subtil sur le titre (optionnel)
        function addTypingEffect() {
            const title = document.querySelector('.hero-content h2');
            if (title) {
                const text = title.textContent;
                title.textContent = '';
                title.style.borderRight = '2px solid var(--rose-gold)';
                
                let i = 0;
                const typing = setInterval(() => {
                    title.textContent += text[i];
                    i++;
                    if (i === text.length) {
                        clearInterval(typing);
                        setTimeout(() => {
                            title.style.borderRight = 'none';
                        }, 1000);
                    }
                }, 100);
            }
        }
        // Carrousel pour les coups de cÅ“ur
        function initCarousel() {
            const container = document.getElementById('carouselContainer');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const dots = document.querySelectorAll('.carousel-dot');
            
            if (!container || !prevBtn || !nextBtn) return;
            
            let currentSlide = 0;
            const totalSlides = container.children.length;
            
            function updateCarousel() {
                const translateX = -currentSlide * 100;
                container.style.transform = `translateX(${translateX}%)`;
                
                // Update dots
                dots.forEach((dot, index) => {
                    dot.classList.toggle('active', index === currentSlide);
                });
                
                // Update buttons
                prevBtn.disabled = currentSlide === 0;
                nextBtn.disabled = currentSlide === totalSlides - 1;
            }
            
            function nextSlide() {
                if (currentSlide < totalSlides - 1) {
                    currentSlide++;
                    updateCarousel();
                }
            }
            
            function prevSlide() {
                if (currentSlide > 0) {
                    currentSlide--;
                    updateCarousel();
                }
            }
            
            function goToSlide(slideIndex) {
                currentSlide = slideIndex;
                updateCarousel();
            }
            
            // Event listeners
            nextBtn.addEventListener('click', nextSlide);
            prevBtn.addEventListener('click', prevSlide);
            
            dots.forEach((dot, index) => {
                dot.addEventListener('click', () => goToSlide(index));
            });
            
            // Touch/swipe support
            let startX = 0;
            let endX = 0;
            
            container.addEventListener('touchstart', (e) => {
                startX = e.touches[0].clientX;
            });
            
            container.addEventListener('touchend', (e) => {
                endX = e.changedTouches[0].clientX;
                const diff = startX - endX;
                
                if (Math.abs(diff) > 50) { // Minimum swipe distance
                    if (diff > 0) {
                        nextSlide();
                    } else {
                        prevSlide();
                    }
                }
            });
            
            // Auto-play (optionnel)
            let autoPlayInterval;
            
            function startAutoPlay() {
                autoPlayInterval = setInterval(() => {
                    if (currentSlide < totalSlides - 1) {
                        nextSlide();
                    } else {
                        currentSlide = 0;
                        updateCarousel();
                    }
                }, 5000); // Change slide every 5 seconds
            }
            
            function stopAutoPlay() {
                if (autoPlayInterval) {
                    clearInterval(autoPlayInterval);
                }
            }
            
            // Start with first slide
            updateCarousel();
            
            // Optional auto-play (uncomment to enable)
            // startAutoPlay();
            
            // Pause auto-play on hover
            container.addEventListener('mouseenter', stopAutoPlay);
            container.addEventListener('mouseleave', startAutoPlay);
        }

        // Activer l'effet typing aprÃ¨s un dÃ©lai (optionnel)
        // setTimeout(addTypingEffect, 1000);
    </script>

</body>
</html>