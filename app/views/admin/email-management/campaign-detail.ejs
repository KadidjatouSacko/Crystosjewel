<!-- ========================================
     üìß TEMPLATE: campaign-detail.ejs
     Fichier: app/views/admin/email-management/campaign-detail.ejs
     ======================================== -->

      <%- include('../../partials/navbarre.ejs') %>

<div class="admin-container">
    <div class="admin-header">
        <h1><i class="fas fa-envelope"></i> <%= campaign.name %></h1>
        <div class="admin-actions">
            <a href="/admin/email-management/campaigns" class="btn btn-secondary">
                <i class="fas fa-arrow-left"></i> Retour
            </a>
            <% if (campaign.status === 'draft') { %>
                <a href="/admin/email-management/campaigns/<%= campaign.id %>/edit" class="btn btn-primary">
                    <i class="fas fa-edit"></i> √âditer
                </a>
            <% } %>
        </div>
    </div>

    <div class="campaign-details">
        <div class="detail-card">
            <h3>Informations</h3>
            <p><strong>Sujet:</strong> <%= campaign.subject %></p>
            <p><strong>Statut:</strong> <span class="status-<%= campaign.status %>"><%= campaign.status %></span></p>
            <p><strong>Cr√©√©e le:</strong> <%= new Date(campaign.created_at).toLocaleDateString('fr-FR') %></p>
            <% if (campaign.sent_at) { %>
                <p><strong>Envoy√©e le:</strong> <%= new Date(campaign.sent_at).toLocaleDateString('fr-FR') %></p>
            <% } %>
        </div>

        <div class="detail-card">
            <h3>Contenu</h3>
            <div class="email-preview">
                <%- campaign.content %>
            </div>
        </div>
    </div>
</div>

<style>
.campaign-details { display: grid; gap: 20px; }
.detail-card { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
.email-preview { border: 1px solid #ddd; padding: 15px; border-radius: 4px; max-height: 400px; overflow-y: auto; }
.status-draft { color: #f59e0b; }
.status-sent { color: #10b981; }
</style>

<%- include('../../partials/footer.ejs') %>

